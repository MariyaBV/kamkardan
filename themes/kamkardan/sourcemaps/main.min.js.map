{"version":3,"sources":["callback.js","callbackvacancy.js","custom.js","filtres.js","header.js","menu.js","swiper.js"],"names":["$","document","ready","each","$callBackBlock","this","callBackBlockID","attr","on","event","preventDefault","name","val","phone","type","commentElement","comment","length","data","FormData","append","trim","fetch","method","body","then","response","text","result","JSON","parse","success","Error","addClass","hide","show","e","console","error","alert","catch","validatePhone","test","validateEmail","email","$quantityArrowMinus","$quantityArrowPlus","$quantityNum","currentValue","parseInt","log","updateCartCount","ajax","url","custom_ajax_obj","ajax_url","action","cart_count","jqXHR","textStatus","errorThrown","$thisButton","product_id","closest","quantity","siblings","find","beforeSend","complete","removeClass","product_url","window","location","click","$qty","currentVal","isNaN","selectedOrderBy","$trigger","toggleClass","$option","value","label","$form","submit","target","checkSelectValues","$selectContainer","$resetButton","$verticalLine","$icon","$selectTrigger","css","parents","attributeLabel","callback","lastUrl","href","MutationObserver","currentUrl","observe","subtree","childList","observeURLChanges","jQuery","json","trigger","catalogLink","blockCatalog","includes","setTimeout","history","pushState","pathname","search","$menu","hasClass","closeCatalogSidebar","$currentSubMenu","$currentSubMenuLink","Swiper","direction","slidesPerView","slidesPerGroup","spaceBetween","height","loop","navigation","nextEl","prevEl","init","checkNavigationVisibilityMobile","resize","swiper","slides"],"mappings":"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","file":"../components/main.min.js","sourcesContent":["$(document).ready(function() {\n    $('.block-callback-form').each(function() {\n        const $callBackBlock = $(this);\n        const callBackBlockID = $callBackBlock.attr('id');\n\n        $callBackBlock.on('submit', function(event) {\n            event.preventDefault();\n\n            const name = $(`#callback-name-${callBackBlockID}`).val();\n            const phone = $(`#callback-phone-${callBackBlockID}`).val();\n            const type = $(`#callback-type-${callBackBlockID}`).val();\n            const commentElement = $(`#callback-comment-${callBackBlockID}`);\n            const comment = commentElement.length ? commentElement.val() : '';\n            \n            const data = new FormData();\n            data.append('name', name);\n            data.append('phone', phone);\n            data.append('type', type);\n            if (comment.trim()) {\n                data.append('comment', comment);\n            }\n            data.append('action', 'callback_request');\n            \n            fetch('/wp-admin/admin-ajax.php', {\n                method: 'POST',\n                body: data\n            })\n            .then(response => response.text())\n            .then(text => {\n                try {\n                    const result = JSON.parse(text);  // Попробуем распарсить как JSON\n                    if (result.success) {\n                        $('.block-callback-form__thanks').addClass('active');\n                        $('.block-callback-form__block form').hide();\n                        $('.vacancy-callback.block-callback-form').hide();\n                        $('#callbackFormThanks').show();\n                    } else {\n                        throw new Error(result.data);  // Выводим ошибку сервера\n                    }\n                } catch (e) {\n                    console.error('Ошибка при парсинге JSON:', e);\n                    alert('Ошибка при обработке ответа от сервера.');\n                }\n            })\n            .catch(error => {\n                console.error('Ошибка:', error);\n                alert('Произошла ошибка при отправке заявки.');\n            });\n        });\n    });\n});\n","$(document).ready(function() {\n    $('.button-vacancy').on('click', function() {\n        $('.vacancy-callback.block-callback-form').show();\n    });\n\n    $('#closeCallbackFormVacancy').on('click', function() {\n        $('.vacancy-callback.block-callback-form').hide();\n    });\n});\n","$(document).ready(function () {\n    function quantityProducts() {\n        var $quantityArrowMinus = $(\".quantity-arrow-minus\");\n        var $quantityArrowPlus = $(\".quantity-arrow-plus\");\n        var $quantityNum = $(\".input-text.qty.text\");\n\n        if ($quantityArrowMinus.length && $quantityArrowPlus.length && $quantityNum.length) {\n            $quantityArrowMinus.on(\"click\", function (event) {\n                event.preventDefault();\n                quantityMinus();\n            });\n\n            $quantityArrowPlus.on(\"click\", function (event) {\n                event.preventDefault();\n                quantityPlus();\n            });\n        }\n\n        function quantityMinus() {\n            var currentValue = parseInt($quantityNum.val());\n            console.log(currentValue);\n            if (currentValue > 1) {\n                $quantityNum.val(currentValue - 1);\n            }\n        }\n\n        function quantityPlus() {\n            var currentValue = parseInt($quantityNum.val());\n            console.log(currentValue);\n            $quantityNum.val(currentValue + 1);\n        }\n    }\n\n    quantityProducts();\n});\n\nfunction validatePhone(phone) {\n    // Проверяем номер телефона на соответствие формату +7 (999) 999-9999 или 89999999999\n    const phoneRegex = /^(\\+7|8)\\d{10}$/;\n    return phoneRegex.test(phone);\n}\n\nfunction validateEmail(email) {\n    // Регулярное выражение для проверки email\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n}\n\n// Обработчик для кнопки \"Купить\"\n$(document).ready(function ($) {\n    $('.ajax_add_to_cart').on('click', function (e) {\n        e.preventDefault();\n\n        var $thisButton = $(this);\n        var product_id = $thisButton.data('product-id') || $thisButton.closest('form').data('product_id');\n        var quantity = $thisButton.siblings('.quantity').find('.qty').val() || 1;\n\n        var data = {\n            action: 'woocommerce_ajax_add_to_cart',\n            product_id: product_id,\n            quantity: quantity,\n        };\n\n        $.ajax({\n            type: 'POST',\n            url: custom_ajax_obj.ajax_url,\n            data: data,\n            beforeSend: function () {\n                $thisButton.addClass('loading');\n            },\n            complete: function () {\n                $thisButton.removeClass('loading');\n            },\n            success: function (response) {\n                if (response.error && response.product_url) {\n                    window.location = response.product_url;\n                    return;\n                } else {\n                    // Изменяем текст кнопки на \"В корзине\"\n                    $thisButton.find('.add-to-cart-text').text('В корзине');\n                    $thisButton.addClass('in-basket');\n                    // Обновление количества товаров в корзине\n                    updateCartCount();\n                }\n            },\n            error: function (jqXHR, textStatus, errorThrown) {\n                console.error('AJAX error:', textStatus, errorThrown);\n            }\n        });\n\n        return false;\n    });\n\n    // Обработчики для кнопок увеличения и уменьшения количества\n    $('.quantity-arrow-minus').click(function () {\n        var $qty = $(this).siblings('.quantity').find('.qty');\n        var currentVal = parseInt($qty.val());\n        if (!isNaN(currentVal) && currentVal > 1) {\n            $qty.val(currentVal - 1);\n        }\n    });\n\n    $('.quantity-arrow-plus').click(function () {\n        var $qty = $(this).siblings('.quantity').find('.qty');\n        var currentVal = parseInt($qty.val());\n        if (!isNaN(currentVal)) {\n            $qty.val(currentVal + 1);\n        }\n    });\n\n    // Обновление корзины при изменении количества\n    function updateCartCount() {\n        $.ajax({\n            url: custom_ajax_obj.ajax_url,\n            type: 'post',\n            data: {\n                action: 'update_cart_count'\n            },\n            success: function (response) {\n                $('.cart-count').text(response.data.cart_count);\n            },\n            error: function (jqXHR, textStatus, errorThrown) {\n                console.error('Update cart count error:', textStatus, errorThrown);\n            }\n        });\n    }\n\n    // Добавляем событие на обновление корзины после изменения количества товаров\n    $(document).on('updated_cart_totals', function () {\n        updateCartCount();\n        console.log(\"Cart totals updated.\");\n    });\n});\n","$(document).ready(function () {\n    $('.custom-ordering .custom-ordering-trigger').on('click', function () {\n        $(this).closest('.custom-ordering-select').toggleClass('opened');\n    });\n\n    $('.custom-ordering-option').on('click', function () {\n        var $option = $(this);\n        var value = $option.data('value');\n        var label = $option.text().trim();\n\n        var $trigger = $option.closest('.custom-ordering-select').find('.custom-ordering-trigger');\n        $trigger.text(label);\n\n        var $form = $option.closest('form');\n        $form.find('input[name=\"orderby\"]').val(value);\n\n        $('.custom-ordering-option').removeClass('selected');\n        $option.addClass('selected');\n\n        if (value === '' || label === 'Сортировать') {\n            $trigger.removeClass('selected');\n        } else {\n            $trigger.addClass('selected');\n        }\n\n        $form.submit();\n    });\n\n    $(document).on('click', function (e) {\n        if (!$(e.target).closest('.custom-ordering-select').length) {\n            $('.custom-ordering-select').removeClass('opened');\n        }\n    });\n\n    function initOrderingState() {\n        var selectedOrderBy = $('.custom-ordering').find('input[name=\"orderby\"]').val();\n        var $trigger = $('.custom-ordering-trigger');\n\n        if (selectedOrderBy === '' || $trigger.text().trim() === 'Сортировать') {\n            $trigger.removeClass('selected');\n        } else {\n            $trigger.addClass('selected');\n        }\n    }\n\n    initOrderingState();\n});\n\n\n$(document).ready(function () {\n    // Открытие/закрытие кастомного выпадающего списка\n    $('.custom-select-trigger').on('click', function () {\n        $(this).parents('.custom-select').toggleClass('opened');\n    });\n\n    // Закрытие выпадающего списка при клике вне его\n    $(document).on('click', function (e) {\n        if (!$(e.target).closest('.custom-select').length) {\n            $('.custom-select').removeClass('opened');\n        }\n    });\n\n    // Выбор элемента из кастомного списка\n    $('.custom-option').on('click', function () {\n        var $option = $(this);\n        var $selectContainer = $option.closest('.attribute-filters__select');\n        var value = $option.data('value');\n        var label = $option.text().trim();\n\n        $selectContainer.find('.custom-select-trigger').text(label);\n        $selectContainer.find('input[type=\"hidden\"]').val(value);\n\n        $option.addClass('selected').siblings().removeClass('selected');\n\n        $selectContainer.find('.custom-select').removeClass('opened');\n\n        checkSelectValues();\n    });\n\n    // Инициализация: проверка текущих значений\n    function checkSelectValues() {\n        $('.attribute-filters__select').each(function () {\n            const $selectContainer = $(this);\n            const $resetButton = $selectContainer.find('.reset-button');\n            const $verticalLine = $selectContainer.find('.vertical-line');\n            const $icon = $selectContainer.find('.icon-Down-3');\n            const $selectTrigger = $selectContainer.find('.custom-select-trigger');\n            const selectedOptionValue = $selectContainer.find('input[type=\"hidden\"]').val().trim();\n\n            if (selectedOptionValue !== '') {\n                $selectContainer.addClass('option-selected');\n                $resetButton.css('display', 'block');\n                $verticalLine.css('display', 'block');\n                $icon.css('display', 'none');\n                $selectTrigger.addClass('selected-item-menu');\n            } else {\n                $selectContainer.removeClass('option-selected');\n                $resetButton.css('display', 'none');\n                $verticalLine.css('display', 'none');\n                $icon.css('display', 'block');\n                $selectTrigger.removeClass('selected-item-menu');\n            }\n        });\n    }\n\n    checkSelectValues();\n\n    // Сброс выбранного фильтра\n    $('.reset-button').on('click', function () {\n        const $selectContainer = $(this).closest('.attribute-filters__select');\n        const attributeLabel = $selectContainer.find('.custom-select-trigger').data('attribute-label');\n        \n        $selectContainer.find('input[type=\"hidden\"]').val('');\n        $selectContainer.find('.custom-select-trigger').text(attributeLabel);\n        $selectContainer.find('.custom-option').removeClass('selected');\n        checkSelectValues();\n    });\n\n    // Отслеживание изменений URL\n    function observeURLChanges(callback) {\n        let lastUrl = window.location.href;\n        new MutationObserver(() => {\n            const currentUrl = window.location.href;\n            if (currentUrl !== lastUrl) {\n                lastUrl = currentUrl;\n                callback();\n            }\n        }).observe(document, { subtree: true, childList: true });\n    }\n\n    observeURLChanges(checkSelectValues);\n});","jQuery(document).ready(function ($) {\n\n    // Открытие формы по клику на кнопку callbackButton\n    $('#callbackButton').on('click', function () {\n        $('#callbackForm').show();\n    });\n\n    // Открытие формы по клику на кнопку callbackButtonCart\n    $('#callbackButtonCart').on('click', function () {\n        $('#callbackForm').show();\n    });\n\n    // Закрытие формы по клику на кнопку closeCallbackForm\n    $('#closeCallbackForm').on('click', function () {\n        $('#callbackForm').hide();\n    });\n\n    // Обработка отправки формы callbackRequestForm\n    $('#callbackRequestForm').on('submit', function (event) {\n        event.preventDefault();\n\n        var name = $('#callback-name').val();\n        var phone = $('#callback-phone').val();\n        var type = $('#callback-type').val();\n\n        var data = new FormData();\n        data.append('name', name);\n        data.append('phone', phone);\n        data.append('type', type);\n        data.append('action', 'callback_request');\n\n        fetch('/wp-admin/admin-ajax.php', {\n            method: 'POST',\n            body: data\n        })\n        .then(response => response.json())\n        .then(result => {\n            $('#callbackRequestFormThanks').show();\n            $('#closeCallbackForm').trigger('click');\n            $('#OKCallbackFormThanks').on('click', function () {\n                $('#callbackRequestFormThanks').hide();\n            });\n            $('#callbackForm').hide();\n        })\n        .catch(error => {\n            console.error('Ошибка:', error);\n            //alert('Произошла ошибка при отправке запроса.');\n        });\n    });\n\n});\n","// $(document).ready(function ($) {\n//     function checkCatalogInUrl() {\n//         var url = window.location.href;\n//         var catalogLink = $('a[href=\"#catalog\"]');\n//         var blockCatalog = $('#block-catalog');\n//         var mainHeader = $('#main-header');\n\n\n//         if (url.includes('#catalog') && catalogLink.length) {\n//             catalogLink.addClass('selected-item-menu');\n//             blockCatalog.addClass('visible');\n//         } else {\n//             catalogLink.removeClass('selected-item-menu');\n//             blockCatalog.removeClass('visible');\n//         }\n//     }\n\n//     function toggleCatalogClass(event) {\n//         event.preventDefault();\n//         $(this).toggleClass('selected-item-menu');\n//         var blockCatalog = $('#block-catalog');\n\n//         if ($(this).hasClass('selected-item-menu')) {\n//             history.pushState(null, null, '#catalog');\n//             blockCatalog.addClass('visible');\n//         } else {\n//             history.pushState(null, null, window.location.pathname + window.location.search);\n//             blockCatalog.removeClass('visible');\n//         }\n//     }\n\n//     function openCatalog(event) {\n//         event.preventDefault();\n//         var catalogLink = $(this);\n//         var blockCatalog = $('#block-catalog');\n//         catalogLink.addClass('selected-item-menu');\n//         blockCatalog.addClass('display_block');\n//         setTimeout(() => {\n//             blockCatalog.addClass('visible');\n//         }, 200);\n//         history.pushState(null, null, '#catalog');\n//     }\n\n//     function closeCatalogMenu(event) {\n//         event.preventDefault();\n//         var catalogLink = $('a[href=\"#catalog\"]');\n//         var blockCatalog = $('#block-catalog');\n\n//         catalogLink.removeClass('selected-item-menu');\n//         blockCatalog.removeClass('visible');\n//         setTimeout(() => {\n//             blockCatalog.removeClass('display_block');\n//         }, 500);\n//         history.pushState(null, null, window.location.pathname + window.location.search);\n//     }\n\n//     function closeCatalogMenuBack(event) {\n//         event.preventDefault();\n//         var blockCatalog = $('#block-catalog');\n\n//         blockCatalog.removeClass('visible');\n//         setTimeout(() => {\n//             blockCatalog.removeClass('display_block');\n//         }, 500);\n//         history.pushState(null, null, window.location.pathname + window.location.search);\n//     }\n\n//     checkCatalogInUrl();\n\n//     $('a[href=\"#catalog\"]').on('click', openCatalog);\n//     $('#close-catalog-menu').on('click', closeCatalogMenu);\n//     $('#close-catalog-menu-back').on('click', closeCatalogMenuBack);\n// });\n\n\n// $(document).ready(function () {\n//     $('#burger-menu').click(function () {\n//         $(this).toggleClass('active');\n//         $('#site-navigation').toggleClass('visible');\n//     });\n// });\n\n$(document).ready(function () {\n    function checkCatalogInUrl() {\n        var url = window.location.href;\n        var catalogLink = $('a[href=\"#catalog\"]');\n        var blockCatalog = $('#block-catalog');\n        var mainHeader = $('#main-header');\n\n        if (url.includes('#catalog') && catalogLink.length) {\n            catalogLink.addClass('selected-item-menu');\n            blockCatalog.addClass('visible');\n        } else {\n            catalogLink.removeClass('selected-item-menu');\n            blockCatalog.removeClass('visible');\n        }\n    }\n\n    function toggleCatalogClass(event) {\n        event.preventDefault();\n        $(this).toggleClass('selected-item-menu');\n        var blockCatalog = $('#block-catalog');\n\n        if ($(this).hasClass('selected-item-menu')) {\n            history.pushState(null, null, '#catalog');\n            blockCatalog.addClass('visible');\n        } else {\n            history.pushState(null, null, window.location.pathname + window.location.search);\n            blockCatalog.removeClass('visible');\n        }\n    }\n\n    function openCatalog(event) {\n        event.preventDefault();\n        var catalogLink = $(this);\n        var blockCatalog = $('#block-catalog');\n        catalogLink.addClass('selected-item-menu');\n        blockCatalog.addClass('display_block');\n        setTimeout(() => {\n            blockCatalog.addClass('visible');\n        }, 200);\n        history.pushState(null, null, '#catalog');\n    }\n\n    function closeCatalogMenu(event) {\n        event.preventDefault();\n        var catalogLink = $('a[href=\"#catalog\"]');\n        var blockCatalog = $('#block-catalog');\n\n        catalogLink.removeClass('selected-item-menu');\n        blockCatalog.removeClass('visible');\n        setTimeout(() => {\n            blockCatalog.removeClass('display_block');\n        }, 500);\n        history.pushState(null, null, window.location.pathname + window.location.search);\n    }\n\n    function closeCatalogMenuBack(event) {\n        event.preventDefault();\n        var blockCatalog = $('#block-catalog');\n\n        blockCatalog.removeClass('visible');\n        setTimeout(() => {\n            blockCatalog.removeClass('display_block');\n        }, 500);\n        history.pushState(null, null, window.location.pathname + window.location.search);\n    }\n\n    checkCatalogInUrl();\n\n    $('a[href=\"#catalog\"]').on('click', openCatalog);\n    $('#close-catalog-menu').on('click', closeCatalogMenu);\n    $('#close-catalog-menu-back').on('click', closeCatalogMenuBack);\n\n    $('#burger-menu').click(function () {\n        $(this).toggleClass('active');\n        $('#site-navigation').toggleClass('visible');\n\n        var $menu = $('.sub-menu');\n\n        if ($menu.hasClass('show')) {\n            $menu.removeClass('show');\n            $(this).removeClass('selected-item-menu');\n        } \n        \n        var blockCatalog = $('#block-catalog');\n        if (blockCatalog.hasClass('visible')) {\n            blockCatalog.removeClass('visible');\n            history.pushState(null, null, window.location.pathname + window.location.search);\n        }\n    });\n});\n\n\n$(document).ready(function ($) {\n    function closeCatalogSidebar(event) {\n        event.preventDefault();\n        var sidebarCatalog = $('#catalog-sidebar');\n        sidebarCatalog.removeClass('visible-mobile');\n    }\n\n    function openCatalogSidebar(event) {\n        event.preventDefault();\n        var sidebarCatalog = $('#catalog-sidebar');\n        sidebarCatalog.addClass('visible-mobile');\n    }\n\n    $('#show-catalog-sidebar').on('click', openCatalogSidebar);\n    $('#close-catalog-sidebar').on('click', closeCatalogSidebar);\n    $('#close-catalog-sidebar-x').on('click', closeCatalogSidebar);\n});\n\n\n//выпадающий список\n$(document).ready(function () {\n    // Открытие и закрытие подменю при клике на ссылку \"Все услуги\"\n    $('a[href=\"#uslugi\"]').on('click', function (event) {\n        event.preventDefault();\n        \n        var $menu = $(this).closest('.menu-item-has-children').find('ul.sub-menu');\n\n        // Проверяем состояние меню (открытое/закрытое)\n        if ($menu.hasClass('show')) {\n            $menu.removeClass('show'); // Закрываем меню\n            $(this).removeClass('selected-item-menu'); // Снимаем активный класс\n        } else {\n            // Закрываем все открытые подменю, чтобы не было множественного открытия\n            $('.sub-menu').removeClass('show');\n            $('a.selected-item-menu').removeClass('selected-item-menu');\n\n            // Открываем текущее подменю и добавляем активный класс\n            $menu.addClass('show');\n            $(this).addClass('selected-item-menu');\n        }\n    });\n\n    // Кнопка \"Назад\" для возврата на предыдущий уровень меню\n    $('#site-navigation').on('click', '#close-menu-back', function(e) {\n        e.preventDefault();\n        \n        var $currentSubMenu = $(this).closest('.menu-item-has-children').find('ul.sub-menu');\n        var $currentSubMenuLink = $(this).closest('.menu-item-has-children').find('a.selected-item-menu');\n\n        // Закрываем текущее подменю и удаляем активный класс\n        $currentSubMenu.removeClass('show');\n        $currentSubMenuLink.removeClass('selected-item-menu');\n    });\n});\n\n\n$(document).ready(function () {\n    $('#block-sort-mobile-button').click(function () {\n        $('#block-sort').addClass('visible');\n        $('#overlay').addClass('visible');\n\n        $('#close-ordering-menu').click(function () {\n            $('#block-sort').removeClass('visible');\n            $('#overlay').removeClass('visible');\n        })\n    });\n});\n","$(document).ready(function () {\n    var swiper_block_sliders_mobile = new Swiper('.product-gallery-swiper-mobile', {\n        direction: 'horizontal',\n        slidesPerView: 3,\n        slidesPerGroup: 3,\n        spaceBetween: 10,\n        height: 88,\n        loop: true,\n        navigation: {\n            nextEl: '.product-gallery__swiper-button-next-mobile',\n            prevEl: '.product-gallery__swiper-button-prev-mobile',\n        },\n        on: {\n            init: function () {\n                checkNavigationVisibilityMobile(this);\n            },\n            resize: function () {\n                checkNavigationVisibilityMobile(this);\n            },\n        },\n    });\n\n    function checkNavigationVisibilityMobile(swiper) {\n        var slidesPerView = 3;\n        if (swiper.slides.length <= slidesPerView) {\n            $(swiper.navigation.nextEl).hide();\n            $(swiper.navigation.prevEl).hide();\n        } else {\n            $(swiper.navigation.nextEl).show();\n            $(swiper.navigation.prevEl).show();\n        }\n    }\n});"]}